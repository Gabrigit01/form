<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Questionnaire de vos besoins</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="icon.png">
<style>
.hidden { display: none; }
.section { margin-bottom: 25px; }
.checkbox-group label {
    display: block;
    margin-bottom: 5px;
}
</style>
</head>

<body>

<div class="container">
<h1>Questionnaire Professionnel – Analyse de vos besoins</h1>
<p>Merci de remplir ce formulaire afin de mieux comprendre votre projet.</p>

<form id="formulaire">

<!-- 1. IDENTITÉ -->
<div class="section">
<h2>1. Informations générales</h2>

<label>Nom de l’entreprise :</label>
<input type="text" name="entreprise" required>

<label>Personne à contacter :</label>
<input type="text" name="contact" required>

<label>Fonction :</label>
<input type="text" name="fonction">

<label>Email :</label>
<input type="email" name="email" required>

<label>Téléphone :</label>
<input type="text" name="telephone">
</div>

<!-- 2. SERVICES -->
<div class="section">
<h2>2. Objectifs & type de service</h2>

<label>Objectif principal :</label>
<select name="objectif">
    <option>Présentation</option>
    <option>Vente de services</option>
    <option>Plateforme</option>
    <option>Formation</option>
    <option>Autre</option>
</select>

<label>Type de service recherché :</label>
<textarea name="attentes" placeholder="Ex : site vitrine, blog,  application, publicité, SEO, branding, stratégie marketing..."></textarea>
</div>

<!-- 3. APPLICATION -->
<div class="section">
<label>Souhaitez-vous une application mobile ?</label>
<select id="choix-app" name="application">
    <option value="">-- Sélectionnez --</option>
    <option value="oui">Oui</option>
    <option value="futur">Peut-être plus tard</option>
    <option value="non">Non</option>
</select>

<div id="section-app" class="hidden">
<h2>Développement de l'application</h2>

<label>Type d'application :</label>
<select name="type_app">
    <option>Android</option>
    <option>iOS</option>
    <option>Android + iOS</option>
    <option>Web (PWA)</option>
</select>

<label>Fonctionnalités principales :</label>
<textarea name="fonction_app"></textarea>

<label>Gestion des utilisateurs :</label>
<textarea name="gestion_utilisateurs"></textarea>

<label>Système de paiement ?</label>
<select id="paiement" name="paiement">
    <option value="non">Non</option>
    <option value="oui">Oui</option>
</select>

<div id="section-paiement" class="hidden">
<h3>Détails Paiement</h3>

<label>Mode paiement :</label>
<select name="mode_paiement">
    <option>Mobile Money</option>
    <option>Carte bancaire</option>
    <option>PayPal</option>
</select>

<label>Reçu automatique ?</label>
<select name="recu_auto">
    <option>Oui</option>
    <option>Non</option>
</select>
</div>

<label>Notifications ?</label>
<select name="notif">
    <option>Oui</option>
    <option>Non</option>
</select>

<label>Autres fonctionnalités :</label>
<textarea name="autres_fonctions"></textarea>
</div>
</div>

<!-- 4. PUBLIC -->
<div class="section">
<h2>3. Public cible</h2>
<input type="text" name="public" placeholder="Ex : entreprises, particuliers, ONG...">

<label>Zone géographique :</label>
<input type="text" name="zone">
</div>

<!-- 5. FONCTIONNALITÉS -->
<div class="section">
<h2>4. Fonctionnalités souhaitées</h2>
<textarea name="fonctionnalites"></textarea>
</div>

<!-- 6. CONTENUS -->
<div class="section">
<h2>5. Contenus & Ressources</h2>
<textarea name="contenus"></textarea>
</div>

<!-- 7. DOCUMENT -->
<div class="section">
<h2>Pièce jointe</h2>
<input type="file" name="document">
</div>

<!-- 8. ANCIEN SITE -->
<div class="section">
<h2>6. Ancien site</h2>

<label>Avez-vous déjà eu un site web ?</label>
<select id="ancien-site" name="ancien_site">
    <option value="non">Non</option>
    <option value="oui">Oui</option>
</select>

<div id="section-technique" class="hidden">
    <label>Adresse du site :</label>
    <input type="text" name="ancien_url">

    <label>Difficultés :</label>
    <textarea name="ancien_difficultes"></textarea>

    <label>Hébergement :</label>
    <input type="text" name="ancien_hebergement">

    <label>Mise à jour ?</label>
    <select name="ancien_maintenance">
        <option>Oui</option>
        <option>Non</option>
    </select>

    <label>Pourquoi refaire le site ?</label>
    <textarea name="ancien_raison"></textarea>
</div>
</div>

<!-- 9. DESIGN -->
<div class="section">
<h2>7. Design & inspiration</h2>
<input type="text" name="style" placeholder="Ex : moderne, minimaliste...">

<label>Sites inspirants :</label>
<textarea name="inspiration"></textarea>
</div>

<!-- 10. BUDGET -->
<div class="section">
<h2>8. Budget & délai</h2>

<select name="budget">
    <option>&lt; 200.000 FCFA</option>
    <option>200.000 – 500.000 FCFA</option>
    <option>500.000 – 1.000.000 FCFA</option>
    <option>+1.000.000 FCFA</option>
</select>

<select name="delai">
    <option>1 à 2 semaines</option>
    <option>3 à 4 semaines</option>
    <option>1 à 2 mois</option>
    <option>Urgent</option>
</select>
</div>

<!-- 11. NOTES -->
<div class="section">
<h2>9. Informations supplémentaires</h2>
<textarea name="notes"></textarea>
</div>

<button type="submit">Envoyer</button>

</form>
</div>

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  window.supabaseClient = supabase.createClient(
    "https://gyrhemmeabidqflmcnrw.supabase.co",
    "sb_publishable_MOh8buKOsYv-Zd4l8eVR2w_ULNDU1_v"
  );
</script>

<script type="module" src="formulaire.js"></script>
<script type="module" src="afficher_reponses.js"></script>

<!-- JS AFFICHAGE CONDITIONNEL -->
<script>
const choixApp = document.getElementById("choix-app");
const sectionApp = document.getElementById("section-app");

choixApp.addEventListener("change", () => {
    sectionApp.style.display = choixApp.value === "oui" ? "block" : "none";
});

const paiement = document.getElementById("paiement");
const sectionPaiement = document.getElementById("section-paiement");

paiement.addEventListener("change", () => {
    sectionPaiement.style.display = paiement.value === "oui" ? "block" : "none";
});

const ancien = document.getElementById("ancien-site");
const tech = document.getElementById("section-technique");

ancien.addEventListener("change", () => {
    tech.style.display = ancien.value === "oui" ? "block" : "none";
});
</script>

</body>
</html>
